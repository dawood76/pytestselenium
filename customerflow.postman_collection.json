{
	"info": {
		"_postman_id": "83e7e30a-e7cb-4fe1-a729-7d993f612375",
		"name": "customer flow",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "SIGN_IN",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "84aa912d-fc66-41b6-b244-94e47609eabb",
						"exec": [
							"response_data = JSON.parse(responseBody);",
							"token = response_data.data.token",
							"pm.environment.set(\"token\", token);",
							"",
							"",
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"phone\": \"923104613646\",\n    \"password\": \"hyprConsumerSignIn\",\n    \"company_code\" : \"MARK\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseurl}}/auth/signinCustomer",
					"host": [
						"{{baseurl}}"
					],
					"path": [
						"auth",
						"signinCustomer"
					]
				}
			},
			"response": []
		},
		{
			"name": "CREATE CART",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "61277b30-bfee-4025-99ab-744eb73a49db",
						"exec": [
							"response_data = JSON.parse(responseBody);",
							"cart_id = response_data.data.result.id",
							"",
							"pm.environment.set(\"cart_id\", cart_id);",
							"",
							"pm.test(\"cart items array is empty\", function () {",
							"    pm.expect(response_data.data.result.cartItems.length).to.eql(0)",
							"});",
							"",
							"pm.test(\"validate message\", function () {",
							"    pm.expect(response_data.message).to.eql(\"Operation is successfully executed\")",
							"});",
							"",
							"pm.test(\"validate user message\", function () {",
							"    pm.expect(response_data.userMessage).to.eql(\"Your request has been processed successfully\")",
							"});",
							"",
							"",
							"",
							"pm.test(\"total price is 0\", function () {",
							"    pm.expect(response_data.data.result.total_price).to.eql(0)",
							"});",
							"",
							"pm.test(\"sub total is 0\", function () {",
							"    pm.expect(response_data.data.result.sub_total).to.eql(0)",
							"});",
							"",
							"pm.test(\"coupon has not been applied\", function () {",
							"    pm.expect(response_data.data.result.is_coupon).to.eql(0)",
							"});",
							"",
							"",
							"pm.test(\"coupon discount is 0\", function () {",
							"    pm.expect(response_data.data.result.coupon_discount).to.eql(0)",
							"});",
							"",
							"",
							"pm.test(\"value of success key is true\", function () {",
							"    pm.expect(response_data.success).to.eql(true)",
							"});",
							"",
							"",
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "{{token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"location_id\": 11,\n\t\"cartItems\": [{\n\t\t\"product_sku\": 987654321,\n\t\t\"quantity\": 1\n\t}]\n}",
					"options": {
						"raw": {}
					}
				},
				"url": {
					"raw": "{{baseurl}}/order/createCart",
					"host": [
						"{{baseurl}}"
					],
					"path": [
						"order",
						"createCart"
					]
				}
			},
			"response": []
		},
		{
			"name": "UPDATE CART",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f7bc092a-c54a-4164-8096-188fb4fae42f",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "{{token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"cartId\": \"{{cart_id}}\",\n\t\"cartItems\": [{\n\t\t\"product_sku\": 987654321,\n\t\t\"quantity\": 2\n\t}, {\n\t\t\n\t\t\"product_sku\": \"gala\",\n\t\t\"quantity\": 2\n\t\n\t}]\n}",
					"options": {
						"raw": {}
					}
				},
				"url": {
					"raw": "{{baseurl}}/order/updateOrderFromCart",
					"host": [
						"{{baseurl}}"
					],
					"path": [
						"order",
						"updateOrderFromCart"
					]
				}
			},
			"response": []
		},
		{
			"name": "RESERVE CART",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "e42c06b0-f9d2-49f0-8088-c2246ac739ba",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "{{token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"cartId\": \"{{cart_id}}\"\n}"
				},
				"url": {
					"raw": "{{baseurl}}/order/reservedQuantityByCart",
					"host": [
						"{{baseurl}}"
					],
					"path": [
						"order",
						"reservedQuantityByCart"
					]
				}
			},
			"response": []
		},
		{
			"name": "CREATE ORDER",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "14db29da-cc59-4934-b4fe-441ba42cf683",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "{{token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"customerData\": {\n        \"customer_reference\": \"923364054186\",\n        \"customer_reference_type\": \"phone\",\n        \"address\": \"xyz\",\n        \"address_line_1\": \"xyz\",\n        \"address_line_2\": \"xyz\",\n        \"city\": \"Lahore\",\n        \"name\": \"sara\",\n        \"location_cordinates\": {\"latitude\": 90.900, \"longitude\": 90.9000}, \n        \"phone\": \"923364054186\"\n    },\n    \"location_id\": 1,\n    \"cart_id\": \"{{cart_id}}\",\n    \"payment_type\": \"COD\",\n    \"deliveryTime\": \"2020-04-01T12:02:00\"\n}"
				},
				"url": {
					"raw": "{{baseurl}}/order/placeOrderFromCart",
					"host": [
						"{{baseurl}}"
					],
					"path": [
						"order",
						"placeOrderFromCart"
					]
				}
			},
			"response": []
		},
		{
			"name": "FETCH ALL CATEGORIES",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "1a623e04-1905-44be-a649-37a03e5b9c44",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "{{token}}"
					}
				],
				"url": {
					"raw": "{{baseurl}}/categories/getAllCategories?location_id=1&page=1&per_page=10",
					"host": [
						"{{baseurl}}"
					],
					"path": [
						"categories",
						"getAllCategories"
					],
					"query": [
						{
							"key": "location_id",
							"value": "1"
						},
						{
							"key": "page",
							"value": "1"
						},
						{
							"key": "per_page",
							"value": "10"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET PRODUCTS BY CATEGORY",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "87913d24-9154-4e28-94a2-00de7a70216e",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "{{token}}"
					}
				],
				"url": {
					"raw": "{{baseurl}}/product/getProductByCategory?per_page=10&category_id=2239&page=1",
					"host": [
						"{{baseurl}}"
					],
					"path": [
						"product",
						"getProductByCategory"
					],
					"query": [
						{
							"key": "per_page",
							"value": "10"
						},
						{
							"key": "category_id",
							"value": "2239"
						},
						{
							"key": "page",
							"value": "1"
						}
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "7e9ba656-4883-44c0-902e-44b6d82e8a55",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "b1e365b5-a9a3-40a7-81d9-16562d88e5ea",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}